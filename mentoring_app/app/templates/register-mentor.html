{% extends "base.html" %}

{% block title %}Register{% endblock %}

{% block style %}
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/register_mentor.css' %}" />
{% endblock %}

{% block content %}
<div class="d-flex align-items-center justify-content-center">
    <div class="svg-container col-md-6">
      {% load static %}
      <img src="{% static 'img/calendar.svg' %}" alt="SVG" class="custom-svg">
    </div>
    <div class="container col-6">
    <h1 class="mb-4">Registro</h1>
    <form
      class="flip-card__form row g-3 needs-validation"
      method="post"
      action="/register/mentor"
      novalidate
    >
      {% csrf_token %}
      <div class="mb-3">
          {% if errors %}
              <ul class="errorlist">
                  {% for field, error_list in errors.items %}
                      <ul class="nested-errorlist">
                          {% for error in error_list %}
                              <li class="text-danger">{{ error }}</li>
                          {% endfor %}
                      </ul>
                  {% endfor %}
              </ul>
          {% endif %}
      </div>
      <div class="paso paso1" data-paso="1">
        <h3>Paso 1 de 3</h3>
        <p>Perfil</p>
        <div class="row mt-3">
          <div class="col mb-1">
            <label for="validationTooltipFirstName" class="form-label">Nombre</label>
            <input
              type="text"
              name="first_name"
              class="form-control"
              id="validationTooltipFirstName"
              required
            />
          </div>
          <div class="col mb-1">
            <label for="validationTooltipLastName" class="form-label"
              >Apellido</label
            >
            <input
              type="text"
              name="last_name"
              class="form-control"
              id="validationTooltipLastName"
              required
            />
          </div>
        </div>
        <div class="mb-1 mt-3">
          <label for="validationTooltipEmail" class="form-label">Correo Electrónico</label>
          <div class="input-group has-validation">
            <input
              type="email"
              name="email"
              class="form-control"
              id="validationTooltipEmail"
              aria-describedby="validationTooltipEmailPrepend"
              placeholder="nombre@ejemplo.com"
              required
            />
          </div>
        </div>
        <div class="mb-1 mt-3">
          <label for="validationTooltipPassword" class="form-label">Contraseña</label>
          <div class="input-group has-validation">
            <input
              type="password"
              name="password1"
              class="form-control"
              id="validationTooltipPassword"
              aria-describedby="validationTooltipPasswordPrepend"
              required
            />
          </div>
        </div>
        <div class="mb-1 mt-3">
          <label for="validationTooltipPassword2" class="form-label"
            >Confirme contraseña</label
          >
          <div class="input-group has-validation">
            <input
              type="password"
              name="password2"
              class="form-control"
              id="validationTooltipPassword2"
              aria-describedby="validationTooltipPasswordPrepend"
              required
            />
          </div>
          <div class="col-12 mt-3">
            <button class="btn btn-primary btn-continuar" id="continuar1" disabled>Continuar</button>
          </div>
        </div>
      </div>
      <div class="paso paso2" data-paso="2">
        <h3>Paso 2 de 3</h3>
        <p>Perfil de Mentoring.dev</p>
        <div class="col mb-1">
          <label for="validationTooltipDescription" class="form-label"
            >Descripción</label
          >
          <textarea
            type="url"
            name="description"
            class="form-control"
            id="validationTooltipDescription"
            required>
          </textarea>
        </div>
        <div class="col mb-1">
          <label for="validationTooltipWeb" class="form-label"
            >Link de tu web personal o portafolio</label
          >
          <input
            type="text"
            name="web"
            class="form-control"
            id="validationTooltipWeb"
          />
        </div>
        <div class="mb-1 mt-3">
          <label for="validationTooltipGithub" class="form-label">Link de Github</label>
          <div class="input-group has-validation">
            <input
              type="url"
              name="github"
              class="form-control"
              id="validationTooltipGithub"
              aria-describedby="validationTooltipEmailPrepend"
            />
          </div>
        </div>
        <div class="mb-1 mt-3">
          <label for="validationTooltipLinkedin" class="form-label">Link de LinkedIn</label>
          <div class="input-group has-validation">
            <input
              type="url"
              name="linkedin"
              class="form-control"
              id="validationTooltipLinkedin"
              aria-describedby="validationTooltipPasswordPrepend"
            />
          </div>
        </div>
        <div class="mb-1 mt-3">
          <label for="validationTooltipAreas" class="form-label">Elige las áreas en las que deseas ayudar</label>
          <div class="input-group has-validation">
            {% for area in all_areas %}
              <div class="form-check form-check-inline">
                <input
                  type="checkbox"
                  name="areas"
                  value="{{ area.id }}"
                  class="form-check-input"
                  id="area{{ area.id }}"
                  {% if area in mentor_areas %}
                    checked
                  {% endif %}
                >
                <label class="form-check-label" for="area{{ area.id }}">{{ area.name }}</label>
              </div>
            {% endfor %}
          </div>
        </div>
        <div class="col-12 mt-3">
          <a class="btn btn-secondary" onclick="volverAtras(2, 1)">Atrás</a>
          <button class="btn btn-primary btn-continuar" id="continuar2" disabled>Continuar</button>
        </div>
      </div>
      <div class="paso paso3" data-paso="3">
        <h3>Paso 3 de 3</h3>
        <p>Perfil de Calendly</p>

        <!-- Paso 1: Crea una cuenta en Calendly -->
        <div class="mb-3">
          <p class="fw-bold">1. Crea una cuenta en <a href="https://calendly.com/">Calendly aquí</a> y pulsa Get Started</p>
          <div class="d-flex justify-content-center">
            <img src="{% static 'img/get-started.png' %}" alt="Get Started" class="img-fluid">
          </div>
        </div>

        <!-- Paso 2: Inicia sesión con Google -->
        <div class="mb-3">
          <p class="fw-bold">2. Inicia sesión con Google</p>
          <div class="d-flex justify-content-center">
            <img src="{% static 'img/with-google.png' %}" alt="With Google" class="col-7 img-fluid">
          </div>
        </div>

        <!-- Paso 3: Crea un username -->
        <div class="mb-3">
          <p class="fw-bold">3. Crea un username válido o usa el que te recomienda Calendly</p>
          <div class="d-flex justify-content-center">
            <img src="{% static 'img/username.png' %}" alt="Username" class="img-fluid">
          </div>
        </div>

        <!-- Paso 4: Copia y pega el username -->
        <div class="mb-3">
            <p class="fw-bold">4. Copia y pega ese username (válido) aquí:</p>
            <div class="mb-1 mt-3">
                <label for="validationTooltipUsername" class="form-label">Username</label>
                <div class="input-group has-validation">
                    <input
                        type="text"
                        name="username"
                        class="form-control"
                        id="validationTooltipUsername"
                    />
                </div>
                <div id="calendly-error" class="text-danger mt-2" style="display: none;"></div>
            </div>
        </div>

        <div class="col-12 mt-3">
          <a class="btn btn-secondary" onclick="volverAtras(3, 2)">Atrás</a>
          <button class="btn btn-primary" type="submit">Registrarme</button>
        </div>
      </div>

    </form>
  </div>
</div>
{% endblock %}

{% block script %}
    {% load static %}
    <script src="{% static 'js/register_mentor.js' %}"></script>
    <script type="text/javascript">

    </script>
{% endblock %}
